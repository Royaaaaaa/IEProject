<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    {% load staticfiles %}
    <title>Search</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <meta name="author" content="colorlib.com">

    <link href="https://fonts.googleapis.com/css?family=Poppins:400,500,700" rel="stylesheet" />
    <link href="{% static 'app01/css/search.css' %}" rel="stylesheet" />

    <!-- styles -->
    <link rel="stylesheet" href="{% static 'app01/css/bootstrap.min.css'%}">
    <link href="{% static 'app01/css/bootstrap.css'%}" rel="stylesheet" />
    <link href="{% static 'app01/css/bootstrap-theme.css'%}" rel="stylesheet" />
    <link href="{% static 'app01/css/style.css'%}" rel="stylesheet" />
    <link rel="stylesheet" href="{% static 'app01/color/default.css'%}">

    <script src="{% static 'app01/js/modernizr.custom.js'%} "></script>
</head>
<body>
<header>

<div id="navigation" class="navbar navbar-inverse navbar-fixed-top default" role="navigation">
  <div class="container">

    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">MarineLife</a>
    </div>

  <ul class="nav nav-pills">
        <li><a href="index"><i class="fa fa-fw fa-home"></i>Home</a></li>
        <li><a href="/marinefamily">MarineLife World</a></li>
        <li><a href="/recyclevideo">Recycle Video</a></li>
        <li><a href="/game">Small Games</a></li>
        <li><a href="/aboutUs">About Us</a></li>
        <li><a href="#">   </a></li>
        <li class="active"><a href="/search"><i class="fa fa-fw fa-search"></i></a></li>

  </ul>

  </div>
</div>

</header>
<li>   </li>
<li>   </li>
<li>   </li>
<li>   </li>
<div class="s013">

      <form>

        <fieldset>

          <legend>Hey! What do you want to find?</legend>

        </fieldset>

        <div class="inner-form">
           <div class = "container" align="center">

            <select  name = 'type' class = 'type'>
             <option value = 'choose_type'>Please choose the type</option>
              {% for type in typeList %}
                 <option value = {{ type.id }}>{{ type.tName }}</option>
                {% endfor %}
            </select>

            <select  name = 'name' class = 'name'>
                 <option>Please choose the name</option>
             </select>
             <a class="test" href ='/' style="color: #fff"><b>Search</b></a>
          </div>
        </div>

      </form>

    </div>

    <script src="/static/app01/js/choices.js"></script>

    <script>

      const choices = new Choices('[data-trigger]',

      {

        searchEnabled: false,

        itemSelectText: '',

      });
</script>




<script src='{% static "/app01/js/jquery-3.3.1.js" %}'></script>
<script>

    $('.type').change(function(){
        var type_id = $('.type').val()
        $.ajax({
            url:'/searchtype',
            type:'get',
            data:{type:type_id},
            dataype:'json',
            success:function(arg){
                var dic = JSON.parse(arg);
                $('.name').html('<option>Please choose the name</option>');
                for(var i in dic){
                    var ele = $('<option>')
                    ele.html(dic[i])
                    ele.val(i)
                    $('.name').append(ele)
                }
            }
        })
    })
    $('.name').change(function(){
        var name_id = $('.name').val()
        var url = $('.test').attr('href')
        url = url+name_id
        $('.test').attr('href',url)

    })

</script>
</body>
</html>