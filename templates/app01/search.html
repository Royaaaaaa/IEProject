<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    {% load staticfiles %}
    <title>Search</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <!-- styles -->
    <link rel="stylesheet" href="{% static 'app01/css/bootstrap.min.css'%}">
    <link href="{% static 'app01/css/bootstrap.css'%}" rel="stylesheet" />
    <link href="{% static 'app01/css/bootstrap-theme.css'%}" rel="stylesheet" />
    <link rel="stylesheet" href="{% static 'app01/css/slippry.css' %}">
    <link href="{% static 'app01/css/style.css'%}" rel="stylesheet" />
    <link rel="stylesheet" href="{% static 'app01/color/default.css'%}">
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
         <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->

    <script src="{% static 'app01/js/modernizr.custom.js'%} "></script>
</head>
<body>
<header>

<div id="navigation" class="navbar navbar-inverse navbar-fixed-top default" role="navigation">
  <div class="container">

    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">MarineLife</a>
    </div>

  <ul class="nav nav-pills">
        <li><a href="index"><i class="fa fa-fw fa-home"></i>Home</a></li>
        <li><a href="/marinelife">MarineLife World</a></li>
        <li class="active"><a href="/recyclevideo">Recycle Video</a></li>
        <li><a href="/game">Small Games</a></li>
        <li><a href="/aboutUs">About Us</a></li>
        <li><a href="#">   </a></li>
        <li><a href="/search"><i class="fa fa-fw fa-search"></i> Search Animal</a></li>

  </ul>

  </div>
</div>

</header>
<li>   </li>
<li>   </li>
<li>   </li>
<li>   </li>
<div><h1>Please choose the animal you want to see</h1></div>
{#<form action = '/search' method = 'post'>#}
    <select  name = 'type' class = 'type'>
        <option value = 'choose_type'>Please choose the type</option>
        {% for type in typeList %}
            <option value = {{ type.id }}>{{ type.tName }}</option>
        {% endfor %}
    </select>

    <select  name = 'name' class = 'name'>
        <option>Please choose the name</option>
    </select>
    <a class="test" href ='/'><b>Search</b></a>
{#    <input type = 'submit' value = 'submit'>#}
{#</form>#}




<script src='{% static "/app01/js/jquery-3.3.1.js" %}'></script>
<script>

    $('.type').change(function(){
        var type_id = $('.type').val()
        $.ajax({
            url:'/searchtype',
            type:'get',
            data:{type:type_id},
            dataype:'json',
            success:function(arg){
                var dic = JSON.parse(arg);
                $('.name').html('<option>Please choose the name</option>');
                for(var i in dic){
                    var ele = $('<option>')
                    ele.html(dic[i])
                    ele.val(i)
                    $('.name').append(ele)
                }
            }
        })
    })
    $('.name').change(function(){
        var name_id = $('.name').val()
        var url = $('.test').attr('href')
        url = url+name_id
        $('.test').attr('href',url)

    })


</script>
</body>
</html>